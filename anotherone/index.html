<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hour Pizza - Login & Register</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:Inter,sans-serif;
      background:linear-gradient(160deg,#59168b 0%,#8200da 50%,#e50076 100%);
      display:flex;justify-content:center;align-items:center;
      min-height:100vh;padding:20px;color:#fff;
    }
    .card{
      width:100%;max-width:420px;
      background:rgba(255,255,255,.12);
      backdrop-filter:blur(10px);
      border-radius:20px;padding:32px;
      box-shadow:0 25px 50px rgba(0,0,0,.3);
      transition:.3s;
    }
    h1{text-align:center;font-size:28px;font-weight:700;margin-bottom:6px;}
    .subtitle{text-align:center;color:#f2e7fe;margin-bottom:32px;}
    label{font-weight:500;margin-bottom:6px;display:block;}
    .input-group{margin-bottom:22px;position:relative;}
    input{
      width:100%;padding:14px 16px;border-radius:12px;
      border:1px solid rgba(255,255,255,.25);
      background:rgba(255,255,255,.08);
      color:#fff;font-size:15px;
    }
    .eye{
      position:absolute;right:14px;top:50%;transform:translateY(-50%);
      cursor:pointer;font-size:14px;color:#e0c8ff;
    }
    .btn-primary{
      width:100%;padding:14px;border:none;border-radius:12px;
      background:linear-gradient(0deg,#ac46ff,#f6329a);
      color:#fff;font-weight:600;font-size:16px;cursor:pointer;
    }
    .toggle{text-align:center;margin-top:20px;font-size:15px;}
    .toggle a{color:#fff;font-weight:600;text-decoration:underline;cursor:pointer;}
    .hidden{display:none;}
    .error{color:#ffb3c6;font-size:14px;margin-top:-10px;margin-bottom:10px;text-align:center;}
  </style>
</head>
<body>

<div class="card">
  <!-- LOGIN FORM -->
  <div id="loginForm">
    <h1>Hour Pizza</h1>
    <p class="subtitle">The Right Pizza. Right on Time.</p>

    <div class="input-group">
      <label>Email Address</label>
      <input id="loginEmail" type="email" placeholder="Enter your email" />
    </div>

    <div class="input-group">
      <label>Password</label>
      <input id="loginPass" type="password" placeholder="Enter your password" />
      <span class="eye" onclick="togglePassword('loginPass', this)">Show</span>
    </div>

    <p id="loginError" class="error hidden">Invalid email or password.</p>

    <button class="btn-primary" onclick="loginUser()">Sign In</button>

    <div class="toggle">
      <span>Don't have an account?</span><a onclick="showRegister()"> Sign up</a>
    </div>
  </div>

  <!-- REGISTER FORM -->
  <div id="registerForm" class="hidden">
    <h1>Create Account</h1>
    <p class="subtitle">Join Hour Pizza today!</p>

    <div class="input-group">
  <label>First Name</label>
  <input id="regFirstName" type="text" placeholder="Enter your first name" />
</div>

<div class="input-group">
  <label>Last Name</label>
  <input id="regLastName" type="text" placeholder="Enter your last name" />
</div>


    <div class="input-group">
      <label>Email Address</label>
      <input id="regEmail" type="email" placeholder="Enter your email" />
    </div>

    <div class="input-group">
      <label>Password</label>
      <input id="regPass" type="password" placeholder="Create a password" />
      <span class="eye" onclick="togglePassword('regPass', this)">Show</span>
    </div>

    <div class="input-group">
      <label>Confirm Password</label>
      <input id="regConfirm" type="password" placeholder="Re-enter your password" />
      <span class="eye" onclick="togglePassword('regConfirm', this)">Show</span>
    </div>

    <p id="regError" class="error hidden">Passwords do not match.</p>

    <button class="btn-primary" onclick="registerUser()">Create Account</button>

    <div class="toggle">
      <span>Already have an account?</span><a onclick="showLogin()"> Sign in</a>
    </div>
  </div>
</div>

<script>
  function showRegister(){
  document.getElementById("loginForm").classList.add("hidden");
  document.getElementById("registerForm").classList.remove("hidden");
}

function showLogin(){
  document.getElementById("registerForm").classList.add("hidden");
  document.getElementById("loginForm").classList.remove("hidden");
}

function togglePassword(id, el){
  const input = document.getElementById(id);
  if(input.type === "password"){
    input.type = "text";
    el.textContent = "Hide";
  } else {
    input.type = "password";
    el.textContent = "Show";
  }
}

function registerUser(){
  const firstName = document.getElementById('regFirstName').value.trim();
  const lastName = document.getElementById('regLastName').value.trim();
  const email = document.getElementById('regEmail').value.trim();
  const pass = document.getElementById('regPass').value;
  const confirm = document.getElementById('regConfirm').value;
  const error = document.getElementById('regError');

  if(!firstName || !lastName || !email || !pass || !confirm){
    error.textContent = "Please fill in all fields.";
    error.classList.remove("hidden");
    return;
  }

  if(pass.length < 6){
    error.textContent = "Password must be at least 6 characters.";
    error.classList.remove("hidden");
    return;
  }

  if(pass !== confirm){
    error.textContent = "Passwords do not match.";
    error.classList.remove("hidden");
    return;
  }

  // âœ… CORRECT USER OBJECT
  const user = {
    firstName: firstName,
    lastName: lastName,
    email: email,
    pass: pass
  };

  localStorage.setItem("user", JSON.stringify(user));

  error.classList.add("hidden");
  showLogin();
  document.getElementById('loginEmail').value = email;
}

function loginUser(){
  const email = document.getElementById('loginEmail').value.trim();
  const pass = document.getElementById('loginPass').value;
  const error = document.getElementById('loginError');

  const user = JSON.parse(localStorage.getItem("user"));

  if(user && user.email === email && user.pass === pass){
    error.classList.add("hidden");
    window.location.href = "home.html";
  } 
  else {
    error.textContent = "Invalid email or password.";
    error.classList.remove("hidden");
  }
}


</script>

</body>
</html>
